<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Navigation</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/132580/876b794a-129c-43f2-800b-aca4290bc2f5?token=7fd554ee6a1730505b0e4e66b29c32e7a16eb6c697e6b0511daf09c673170dbe&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
        "https://iframe.mediadelivery.net/embed/132580/876b794a-129c-43f2-800b-aca4290bc2f5?token=7fd554ee6a1730505b0e4e66b29c32e7a16eb6c697e6b0511daf09c673170dbe&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/d6385e7e-f80e-406e-97fc-731241c566be?token=a4dee7687adab3ae2898fbdd400f1b6a1a3882ed5f21ec5b406dd5572016c7c1&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/835b1979-191e-465c-bc6e-f5dbc3f2ccc5?token=4dd6490e7613ef774ffc37754f56b82c123255706883d50b4e36a3783fbb2c9e&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/41e72b02-1399-4ab1-a4db-8ac9bafcc0df?token=667f5baa50d57e617e7737a635e50ad6f3cbd837ef3a65953dbc5f1dedb5ed36&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/1b2c60e2-f009-4449-966e-0d67ed5eed43?token=a81ae5d61ab6b4e3d514e53ac97b828f889fbe0a4c2705650f04d9f135e6c07d&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/6af644cd-ddda-481f-a808-db6542ccd939?token=72188bb7f5b1d266da98baf5f9b611e12ce158f5477582ff7ae3ae4dc5131493&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/e3c09e56-424a-4e8c-856f-8aec4cd74f87?token=eae62e27972c14c0233969625850004e7311ebf4bcc6d8fcf962adae8145e34b&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/a6724520-d2fd-4b9a-ae6a-38aff4e7f7d1?token=f80e9309a1763b54c15eae64590ca91f3501b7fb8521a0349fbf4ea059026a56&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/24cf31c1-48cb-49ea-8c62-48fb9d8f43db?token=6ef3999e81f0864112848da58a3040c13e51be7fa69f07e440b1e21e93cdeb12&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/56c57543-d2d5-4d82-acc1-bb7035e00ba7?token=f3313842b3df80b187e29119e086febdcabb428dcc74f46d3af8f873ed4c2c2a&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/4a7b300c-32b1-406c-832b-de2b02c64bf4?token=7464f1867c131e1d4b0d59cb9a69f4b10e0708e273f426e93ed4d6f93c4ffeb9&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/419e2b82-4e81-4c05-b93d-09cf75d3869c?token=71e299dbba4099d3204b23797c860724f4984d62004887fa57c90919f2ee1ef3&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/43db35f2-3615-4eca-bc26-c392586e3ec4?token=9913cf99524b1ba8b79613fca852c29b0998e6c4c789d8474f755fa0770928cd&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/386aa30d-c7ff-40c5-8716-30641d68748c?token=5864c4da63e7ba601021b6efe2b6cdd7b2c98e0287e2022cbb2065dd500065f4&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/175fd31e-8976-460c-979a-03afb2ea69b7?token=5e941cf83114c58a27560b8c3438c769b4dfe38645dc51aba4b302211ac4a13c&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/5271c798-9fd2-4f78-ac04-44aca5cc13e8?token=481ff15af90359b43e5a3fb1d01e45f2b10b97079520114550f89fe963d70183&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/44cca4f4-9696-418e-aa67-b9d3e2613199?token=6ef37fc9bc8702b79bfc861fe374f78b5d56b729b201d0cdf3067751df888708&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/aefd2f7b-0e78-463d-8927-ca1e67ab3f1b?token=312ed6b9ae8604a481ae144c874836836862e52a00e44f553e07ffabdeda65aa&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/f83fd9ad-37d2-42ab-89c1-3e4d912b77c3?token=5d38035239836572e9f4be928a10613eb11eba0645b6ed6b9bd394b9a12207d1&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/91e56ddf-06a1-4c60-a195-503e9ba2d811?token=47fc8399edadbf313b989c128fb145e78e2fd2f6b6e2c3beb67baeac84336ebb&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/c0a48a69-7151-4744-bc0b-fdeebfb16d89?token=4bff246b91e50d4cbaa9a29f44dc726c4c907cd1f074456b07f54cbeb4b9a2b0&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/cebd38b8-962c-434d-b4d6-dac7fe1d4c0b?token=6cef62085ab3c3f96c34abbc08bd132f7a5c0b3fa51a872b4ac4998a07d78201&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/88c0a6f3-1524-42a6-b99c-d905fb3b62c3?token=6ca329d77b10338f54afb861ece53a084f2ff812a017cc0c087928ce52ca03f0&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/2f66fc4b-7e8c-4613-bda1-358d514d3ef6?token=cf6a577a218bf5ce212ee363a0f7b99c52a350da1805c1b8643d1b0e1890591c&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/3a7c5a1b-8153-411b-bbca-94d398a14099?token=1b17c1e5cb0893b67c19a64d39bb213b4ec6c36ae5972af22524512790aa6667&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/ac0a6e37-c9fd-4b26-bc22-3d3b5af0f685?token=7171cbf02c1e0595c6bcf0ddabc2468c0c5e53f5934a4fbe8600c7f9aac1e31c&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/30ce81f6-8120-444e-bac6-2349d98c45f7?token=5ee857c989846f97017e6d3b9e512ad4e94e439041c7faf0bedb2ac58ca64b5b&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/4751bc57-389f-465c-9574-0e920e3d54e9?token=da368f5a7184927b01f6dae26b6585cce7b5494499f7fa7c6cf855873ad50f40&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/cad246c0-c172-4f01-b172-521c13a5b00d?token=0e135c9d8613a1fe92a0ba04280116e65838b77d6563ede5350c54e41ba42324&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/cc029b84-5ea4-4d2f-9413-7c823e5d12ef?token=75f4760d86a80426eb4fa67c1a56072a8204390979bfdf713c7d1b26ed289e21&expires=1765757986&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbws23er40skaTk9VawhjnyRXM-ekvoGfop18s1q-yB3fFADCIDOjp223iz0xe-zSczDYA/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
