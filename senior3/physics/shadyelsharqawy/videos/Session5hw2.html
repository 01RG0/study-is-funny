<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW lecture 4</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/132580/13b72ffc-357b-45ee-8468-31bb79ce4ab9?token=5a0a4b05d2da2449ccc3dd2fa535a6277546e6e74440ba0f2afbafb5d996119d&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
        
        
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
        "https://iframe.mediadelivery.net/embed/132580/13b72ffc-357b-45ee-8468-31bb79ce4ab9?token=5a0a4b05d2da2449ccc3dd2fa535a6277546e6e74440ba0f2afbafb5d996119d&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/ceafbad9-b232-462f-9101-355ed56a87e9?token=efce237616506e5c37c468842e7d1ab4ccf41fc9b61e3064d2da1d7b8bbf93b4&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/9a0f6e9a-80ac-4b18-8a73-5f91ae884653?token=55b031a96b463ad3a14ec083351cdf7a084ac2668f6f3770b48916ea6c9a55a6&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/1d3e7adc-1073-4a43-8c87-75dd3d3e0565?token=7a85cf3c7e93079cebbda9c1dbbec782ef53b9a46b6901ec6c5c5d8dad9917c5&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/94bbf105-b222-4945-8b3d-d3b890ee153e?token=2fc1abccfaabd0ce3aa88355aded3d864c1608bea6bd71b0f2a61e7d09388cda&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/19cbbb95-3a31-4e03-8835-65299ffbc37c?token=47b710db43af60dd8b4a6212265cd81ebc0ea5d0d9bb48835317f932451bce08&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/12f0c90a-b9d4-4472-9c76-71084a880a72?token=509d670d63b7e86fcf35bb1e7f87fc0ad2b934bff73a12709aef090f416a4f1e&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/9efea11f-5aff-40c7-a290-9c90772cf302?token=61dd1f029b72eb05e7d13224e8a189aa9976a22ff098b04ec09e3cdec573a42c&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/bd676bd6-1b7a-44e0-8d73-718b848efc96?token=130a81355c4e5c9c4469021821ce174af05494ad6271b8a10c6c8aaa94626f9c&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/36745eb7-1e62-48d8-91d9-0664c8fe0c61?token=04dd2452207cb9095e4275db9ef3deb322fa2e84ccc3edbc97b8c30a59e7f42d&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/17647029-3f13-498b-a38d-878060480623?token=22c416f84930c79398af4fdd3f1136fa100d6981c11fd4d396b77a7dbc93461a&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/8c42d13f-a6b9-4f78-baa7-fc2785c4ad49?token=150e97d0d5876d5f85bfee96c327257f4ea223256a16f4fe3ac922c31ac57b89&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/f03ce5a5-452d-4dfd-9153-f2e2a63dcdf1?token=43d5758a104d181560bd3c06dd9d2bbd4bbfc6475753edf215f145a76afed1c7&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/3689d7b1-b0e8-4503-952c-61d2e38d917a?token=9578c0d24254a0a12a2a7795a0db1ddbdff2021a28bafc905a39ada89ea1d0df&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/3aba722f-f89a-44e1-bd66-0ee88de1a93e?token=40b0c9176312c2f1469799b42dfe374cab323b27e6bff499a142329c405d9f49&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/6b1e6de1-51f7-423a-959d-910fac434961?token=740b228a27f6a3a01a17a63bcf2c46c82e6967042d95c51ae6042e21379f96cf&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/0ef0d670-1440-449b-943f-9bb51714f8d2?token=5aa449d177e317958f3ceb65213e445fe5416826868cf387dcfcca3d5bbf4745&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/c0fc4345-5e32-4f65-afba-d9abf85bff84?token=1b6d4f3d1d3c51d5cd493f3896118e5e25adbc24f2463fd585a6575cc1f62d0d&expires=1767020358&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        
      
        
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbwKtk_G8tU1Y5EKGenmehAH79srz21IsA_fzddj0P74JC0Cchhga3P_eOPDigxbFmCviQ/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
