<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW lecture 3</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/132580/918197d5-03fa-4f80-92a1-0cfc7fa9de08?token=b6601fa99ea4dbd0020669271b5298e8c10d55d4d9b48ce2a54a296da7e2894a&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
        <button onclick="location.href = 'Session2.html'">Explanation </button>
        
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
        "https://iframe.mediadelivery.net/embed/132580/918197d5-03fa-4f80-92a1-0cfc7fa9de08?token=b6601fa99ea4dbd0020669271b5298e8c10d55d4d9b48ce2a54a296da7e2894a&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/5642913b-09fc-4c64-83c8-c6942c365f50?token=a241931e04a6f794b427c7d685ddfac2392a12316b3b738df8675da2c0968ca3&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/1d57780f-39d9-4b96-8fa1-2c5e9d585437?token=71a9d3c187b51f1f20bb12e87cf64542f5bc5a2eda515098e4b188d81a09c191&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/3c81542d-3fd8-46f1-a88e-fb5cd35e0c1a?token=13a8ad0a1800049b8e3c8a9ec375d780fc02b193301b74869ecd5e3d2321c3a0&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/a3f7d6b0-7d2c-4100-b4fe-29d9d2b71757?token=c7c4b69d8bbfad09b604e66830aa4034c155bfa937d71484bca1269e46b0bb26&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/5e3de8e6-8bd0-4e03-a26a-5e15de4d2fe4?token=811d793e59dacb429af7f6cc523c582a6b9995bf2233cbb42f60eb077f0787fd&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/56e07c73-f7e5-4323-bfbd-f1b5bacba503?token=b6c7d10123daf5458405d12b40b0d2bf76544f8705bb01273d5c16ca158c6b67&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/1d70f0f2-9292-4ce9-af24-b10c0f974e48?token=b4d74afaccc796053e9e858ec3694c9618b942028b7ad7f8d3dff402ca9ddb5e&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/579b96ff-8379-414c-bdaa-cb9f25bc0573?token=1dda6832ec3480f446e270a3f6047a683dffb740cf6c8c3a39d55c06a8dba0d8&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/cb3b1e59-0279-45a6-8234-700446dff96c?token=db2ae77111ec8380f80e65fdc445750e8550d0407ec1ca7ec02600ac4b58acad&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/154e8802-c566-4650-b085-8842f80bef03?token=bb40abbcdfdc82e4bb1155e460f8f3d676043890a9e87ec1c32a862bca0f6b7a&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/ebcb4995-cc6d-47af-89f3-948e32d8d57a?token=e18308f805e5f04347680398bf72ffef3e4075d8367f13330b8a6bd4fa0c8617&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/4115d851-40d3-433b-8fa7-a3b6accc12a0?token=6842a2d54e01317bba345068f93cd396ad913a0b4ff77940eba616ac5e435a13&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/10cb0e48-1d82-4c72-9f50-3db54db56d10?token=c2486a95f0d9baed8cdbc00c5374687a540ab024360c9ac70d9136de5a1aa29e&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/60a345f4-c294-40f2-837c-7f5c96b8a37e?token=ac99d4a4a42cbdb97645f0997558c1d77ff6422332dbb6bcc9e955db14619447&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/ca91fd58-46b8-4c98-b3a7-c260a1d63092?token=049be74fa9a8f6a281e3654b4a757540522fa9ed9204a98ac49d374cbc36f766&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/181a49b7-0ce4-4695-9ef4-6b2bb05dbd4e?token=dd3f7066c102a63f4964f0b7537ff08631d9f6d751cfb79172c18a10c36a75f4&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/7765d025-c3ae-42de-bfe3-2a6ee5b113bd?token=efaa3e59734afcf334af282d4025e9b76c478c50eb4767a5159f1cd60150bc60&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/094070fc-a597-4c2e-be6a-27ede183e53a?token=5ee772cfcdde8a2526ee5707a6d097e611d140a72a7e928d3336926df0a4be1d&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/d5c4277d-dc68-4955-b3f1-212d886d53d0?token=c6cd9d2d0d4b827e56d625e68fb2b8170b68b111111e3273a86a64d53eb80af8&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/8b1a0566-1011-4e6b-80ff-63904f4dc7b1?token=6c9503bc79c63ae5bac1d30075b36da4b164a4542be891bbeb7e4e6d4b948df9&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        "https://iframe.mediadelivery.net/embed/132580/2cdc37db-f0f6-45c0-b542-a4b22582800c?token=a9607d0c9dcc754c1f774884f48842929b58c20db4251d9be253349a988a2be3&expires=1765729409&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbzvHX9nifEPagrAHmaN0ZXC1tJsM3ueQ7AdapjuHGv4Y8DhLWvphY5FNpT0KYYEf9fSfA/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
