<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW lecture 5</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/132580/667556a0-0e97-4cc5-b43b-7a6e64811d4c?token=261e56258e91ddc19e9940d87ed0e3d534984c040b9dee71f7f601783e7c1414&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
        
        
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
       "https://iframe.mediadelivery.net/embed/132580/667556a0-0e97-4cc5-b43b-7a6e64811d4c?token=261e56258e91ddc19e9940d87ed0e3d534984c040b9dee71f7f601783e7c1414&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/76214d2c-e0f4-4710-8708-cbdef928a259?token=e7edc9da0191ccdb671f2c39f3e14becb4642cfec549f9a6d75ab8ef63d5e7cb&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/1ae8c8c4-a962-4331-bcca-c8b64cf0ef1a?token=8d85c1d5819b05196d0712cc9ea33e36b904e9b54be94e44b423e13883da7a1e&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/2b70b5da-c51e-4468-97ff-699f6cc886bd?token=c859dae21c5636b5e6dd3882aab6d39478dc5f7f70f1def5d73db1dcd1be9963&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/aa6a130a-f990-40a3-9471-a34e60850885?token=3e448e5356300e004346ce6a7b3e2a520c105e35ec172ee1a45cd80ec7528391&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/f21788c1-95ed-433a-a235-a803042be2e9?token=22c148ea7a4096c6abb81b8d79c3c345690bea772629d9c18662d1751f6aa187&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/c6e33f3c-9b56-4e82-9614-9439cb3855b2?token=131fa1c8be38a49e7eebbfab10d47c133515168621f16ac0c4649837ab9d5dd9&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/01273e01-5909-4b3c-8a21-d21515b0839f?token=878bb33f478b66f5ec3511040ad32049286062a870633a35423d71a03d46322c&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/7556d45a-6e81-493b-a273-79569607c25d?token=a588528740da13804a64610d0c973fef5fa8c596afdffdce6f5abb6a880e675d&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/ba44c8f2-8c46-464d-9f8f-f95f0d3f46d7?token=83fe1a68d00ad62ef82b264ceb76f0cb36f14842b5488dd571307448f704617b&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/c072fb15-5377-4daf-bebc-2ed24ad244c9?token=b557a588181733658416db2e9eb52060d249921c3072bf03e370035d6163203b&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/3b4dcb20-398c-4dca-87bf-6179e1f709b0?token=7076147f2d449327d1e79f1c6cedeb059c2238886d410f49c698b8b6f52983ba&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/73b2be35-8dd7-4ded-a462-42eda3d38c3e?token=2d1bb7272f9a3255da856d5caeab8e0201acdb30e1c533630de4ffec652a2f53&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/16af000c-de2a-4f44-a580-1279eaa2312d?token=1b62cf3059b0211a1006e57a5b8a7781926fcb0dea0acb9bd95824b449194eec&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/bfdf2a21-a181-4d50-a2df-671ad44fbdd3?token=746219d5b6c67f9f931b49e1194b79b495402e6f74a1dbc16aee2e5b8a8f8362&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/1dc7a348-c3a2-4ebb-8061-0854c72d20c5?token=de4e216eca6121471b1378f2141a44a9a66d4d41b7507d7cd41a27f65295b33f&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/c1a4244d-7e19-4a5f-864b-cb588f583587?token=1c2844012603f7a42203e1c339af50cfe03ccb3097b66a90fe19e5a6ee8a700b&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/10923c91-18b4-4e00-8041-bbe3d5a76c38?token=acc5dd49b9a294594142d4d0c349df57ab5fc9f7a22d74b497a383f2defa7739&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/c58e2d5f-4e0f-4d8d-9449-4e338e39ffdd?token=68a43767ef4b6bed7045ed8dd59218066c3a1b27c2e08120fe4837b1665c75f2&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/f97a5dca-3af4-43e7-a0ca-3190a5abd94f?token=79cdc51ac36d1e1c3ccd80532c95c932f53802afb064b61beb654f3c1e515a01&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/2087d1a8-e6ee-42ba-b140-50aed431fcbd?token=73f83980c1b2595024469947df44d695e079b7e5e104ddf0adc8457e129fe6ac&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
       "https://iframe.mediadelivery.net/embed/132580/2c216ba2-088d-4442-aa7c-df61d2c057d7?token=d3e584cdc05635be01498c9aa9f6fce37b9ee5fea87d809a3db25ad16c494dc9&expires=1767020047&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        
      
        
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbwKtk_G8tU1Y5EKGenmehAH79srz21IsA_fzddj0P74JC0Cchhga3P_eOPDigxbFmCviQ/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
