<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW lecture 3</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/132580/f4c2fcf7-f477-4bcc-ab4e-a84bca96f555?token=ad9451a5dd01c29ade71a9a96809aa03693c5c1e3bbddc5fd71e0ed41f03744f&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
        <button onclick="location.href = 'Session2p2.html'">Explanation </button>
        
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
        /*1*/    "https://iframe.mediadelivery.net/embed/132580/f4c2fcf7-f477-4bcc-ab4e-a84bca96f555?token=ad9451a5dd01c29ade71a9a96809aa03693c5c1e3bbddc5fd71e0ed41f03744f&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*2*/    "https://iframe.mediadelivery.net/embed/132580/fce9cfe3-9e1e-478d-9ffa-2a364017e94c?token=5648ad9c3babbc06026b9756c941604e66f06914d4cb67f00bf70955a55ba7a9&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*3*/    "https://iframe.mediadelivery.net/embed/132580/a9280812-e5ca-492b-b137-5ff3e5919d28?token=c6105a9947b962b771aec1989fb2d4d3bb13deff940f73a57f3ddf63fdc35ccc&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*4*/    "https://iframe.mediadelivery.net/embed/132580/11247ec3-0423-44a5-bd03-e6dd99bc7be0?token=edc9c281a059e333eb957120c2c0f92e950621518a2515bb690247ca8d56cc10&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*5*/    "https://iframe.mediadelivery.net/embed/132580/f683a179-da15-40a7-90cb-50bd1137b02e?token=a44f0dc663f6320f27078f7b4fa9e40f651dbc357b7307e2bea51e212fe8962c&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*6*/    "https://iframe.mediadelivery.net/embed/132580/54d490f7-c89d-489a-8214-7a0f2dfac20c?token=d595d95f3b3025b166fde0a7667c0e195afb5a004739a224280f27acb5b2bfe1&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*7*/    "https://iframe.mediadelivery.net/embed/132580/e0f4ae32-c81b-42bf-8d17-e5dfb3c12fa1?token=057bc7f68b009f47fa2d22d3c09943a2853b0f5114b99a13c20774b73cc2745c&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*8*/    "https://iframe.mediadelivery.net/embed/132580/4223bf43-273f-457e-aea6-31db06e229a2?token=fb2782b3dfff3f307f03649ab9fb4bdb91c999a86c413e7eff43108ba560635b&expires=1765232617&autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbzvHX9nifEPagrAHmaN0ZXC1tJsM3ueQ7AdapjuHGv4Y8DhLWvphY5FNpT0KYYEf9fSfA/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
