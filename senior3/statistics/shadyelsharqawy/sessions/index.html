<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sessions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Font Awesome -->
    <link rel="stylesheet" href="../../../../css/sessions.css">
    <link rel="stylesheet" href="../../../../css/main.css">
    <link rel="icon" class="circular-icon" type="image/png" href="../../../../images/logo.png">
</head>
<body>

    <!-- Header -->
    <header>
        <div class="banner">
            <img src="../../../../images/logo.webp" alt="Website Logo" class="logo">
            <h1>Studyisfunny <i class="fas fa-graduation-cap"></i></h1>
            <a href="https://wa.me/201558145450?text=Hello" target="_blank" class="whatsapp-button">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </a>
        </div>
    </header>

    <!-- Popup Element -->
    <div class="overlay" onclick="closePopup()"></div>
    <div class="popup">
        <div class="popup-header">Subscription Details</div>
        <div class="popup-content">
            <!-- Add your dynamic content here -->
        </div>
        <button class="popup-close" onclick="closePopup()">Close</button>
    </div>
    <!-- Loading Spinner -->
<div class="loading-spinner" id="loadingSpinner">
    <div class="spinner"></div>
</div>

    <!-- Sessions Cards -->
    <section class="sessions-container">
        <!-- Session Cards -->
        <div class="session-card" data-session="1">
            <h3>Pearson coefficient of correlation</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 6/9, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 1</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(1);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Spearman's Rank Correlation Coefficient</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 13/9, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 2</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(2);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Regression</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 20/9, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 3</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(3);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Representing Data using Stem and Leaf Plot</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 14/9, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 4</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(4);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Assigning quartiles and from signal data, box, plot, semi-interquartile range</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 21/10, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 5</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(5);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Finding quartiles from frequency tables of sets</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date: 23/10, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 6</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(6);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Random Experiment</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:November 8, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 7 & 8</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(7);">View Details</a>
        </div>
        </div>
        <div class="session-card" data-session="1">
            <h3> Probability Calculation </h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:November 22, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 9</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(9);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3> Probability Calculation P2</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:November 22, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 10</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(10);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3> Conditional Probability</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:December 18, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 11</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(11);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Independent Events</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:December 25, 2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 12</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(12);">View Details</a>
        </div>
        <div class="session-card" data-session="1">
            <h3>Revision On Chapters 1 , 2 , 3</h3>
            <p class="session-date"><i class="fas fa-calendar-alt"></i> Date:January 2,2025</p>
            <p class="lecture-sequence"><i class="fas fa-play-circle"></i> Lecture: 13</p>
            <a href="#" class="view-details" onclick="handleSessionDetails(13);">View Details</a>
        </div>

     

    </section>

    <!-- Footer -->
    <footer>
        <h2>Contact Us</h2>
        <p><i class="fas fa-envelope"></i> Email: support@studyisfunny.com</p>
        <p><i class="fas fa-phone-alt"></i> Phone: 01558145450</p>
    </footer>

    <script>
        // Define the mapping of session numbers to their specific Google Script URLs
        const googleScriptUrls = {
            1: "https://script.google.com/macros/s/AKfycbxaanbUlBNGd7_4fcduepN8vRBTXJgRXHxMkBCef4-IMS0xcOaDYx5uERjTrH-XkAXfyQ/exec",
            2: "https://script.google.com/macros/s/AKfycbxdiHG7i81Wv9Hacfx3a_P-TUWO4-Yx48K4ovIlJ0cyPUL-z3cRbRAPVpLixwzQEzL6Qw/exec",
            3: "https://script.google.com/macros/s/AKfycbzwYEssatgl-yJ4Hai7ZESnv9NjMa-bjjDUtPDIqBY6eFdk89r1odKgcy7czldrdJcpDw/exec",
            4: "https://script.google.com/macros/s/AKfycbz0iiAGkitIpta-7MJSGzWEKkbqAVGd8aKrarS2JfsK3MEbH-i0sxlH6sMcPmOygDJviQ/exec",
            5: "https://script.google.com/macros/s/AKfycbyNaJNUj1mkaQzhAuxjL5WhNWAKEHRMwCR8FLFThJnCbfCf_0UUhFpVjlIifi7KHSUjxg/exec",
            6: "https://script.google.com/macros/s/AKfycbzzjYrHfQH1qtUxQgBp_6GmSSH6aeUTH7O3992kfzT-Ju7QlWuP9tCefh3GeTrSeUE9yA/exec",
            7: "https://script.google.com/macros/s/AKfycbx0Ax9Oycsx2eOZNwncby6UYdbDYElMmUFB-ugYZE--2yqyeiEKNktCyc9f-o-eP2Tczg/exec",
            8: "https://script.google.com/macros/s/AKfycby3HyeHKf9YO2_WUdv3g5MGRT1TPPvjvCx2Bwv46FfG6naIgj0j5pDm92pm2r9Jyg3ZIg/exec",
            9: "https://script.google.com/macros/s/AKfycbyWXbq7m2Mv-2Igb1bhAJVNlVA-Qu-cN-ge4knit7EGSGhdH6wQqB2od3Xc-knGUmM67w/exec",
            10: "https://script.google.com/macros/s/AKfycbwSSI718EP-ss_xwR7rLAXHoMf8Eg9HCmSZTLZeVcNuTxM64vcjdSUHEkyVriGdWse-gw/exec",
            11:"https://script.google.com/macros/s/AKfycbyT2UdLMhzwGx7vSX66Gi6UrzQ8V3koJeuk7UY8C6Nzr7ARQaEr6MSGXPORsPAb27hTYg/exec",
            12:"https://script.google.com/macros/s/AKfycbz_nrSeUQQtDoelEfyJ6zn-ENJTKfA4hgedEzDLoCS3NJKfvxTcCHo92USXj2XnCsT01A/exec",
            13:"https://script.google.com/macros/s/AKfycbwNp93sReH8NKfUF6mo8P12PFLgYF2I0uqj_xTSpxn_NRqs72rhbgiAYe1KAsZ-MoMetA/exec",
            
            
        };

        // Handle Session Details
        function handleSessionDetails(sessionNumber) {
            const userPhone = localStorage.getItem("userPhone");
            if (!userPhone) {
                alert("Phone number is not found in localStorage!");
                return;
            }

            const sessionUrl = googleScriptUrls[sessionNumber];
            if (!sessionUrl) {
                alert(`No URL found for session ${sessionNumber}`);
                return;
            }
            document.getElementById('loadingSpinner').style.display = 'flex';

            fetch(`${sessionUrl}?code=${userPhone}&session=${sessionNumber}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(`Response for session ${sessionNumber}:`, data);
                    const contentContainer = document.querySelector(".popup-content");
                    document.querySelector(".overlay").style.display = "block";
                    document.querySelector(".popup").style.display = "block";

                    if (data.error) {
                        contentContainer.innerHTML = `
    <div class="first" style="text-align: center; font-family: Arial, sans-serif;  border: 2px solid #008080; border-radius: 10px; background-color: #FFFFE0; max-width: 90%; margin: 0 auto;">
        <h2 class="no" style="color: #2F4F4F;">Subscription Required</h2>
        <p class="no" style="color: #2F4F4F; font-size: 16px;">
            You are not subscribed to this Lecture. Please subscribe to gain access to the materials.
        </p>
        <div class="second" style="text-align: center; font-family: Arial, sans-serif; ">
            <h2 style="color: #2F4F4F;">Let's Subscribe and Buy the Session!</h2>
            <p style="color: #2F4F4F; font-size: 16px; margin-bottom: 20px;">
                You can subscribe and buy the session from here. Click one of the options below to proceed.
            </p>
            <button 
                onclick="buysession(${sessionNumber})"  
                style="
                    padding: 10px 20px;
                    font-size: 16px;
                    cursor: pointer;
                    background-color: #008080;
                    color: #FFFFE0;
                    border: none;
                    border-radius: 5px;
                    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                    margin-bottom: 10px;
                    width: 80%;
                    max-width: 250px;
                "
            >
                I Have a Code
            </button>
            <br>
            <button 
                onclick="window.open('https://wa.me/201000733148', '_blank')" 
                style="
                    padding: 10px 20px;
                    font-size: 16px;
                    cursor: pointer;
                    background-color: #25D366;
                    color: white;
                    border: none;
                    border-radius: 5px;
                    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                    width: 80%;
                    max-width: 250px;
                "
            >
                Donâ€™t Have a Code? Contact Us
            </button>
        </div>
    </div>

    <style>
        .first {
        padding: 20px;
        }
        .second {
        padding: 20px;
        }
        @media screen and (max-width: 768px) {
        .popup {
        padding:0px;
        }
        .first {
        padding:0px;
        }
        .second {
        padding:0px;
        }
            .none {
                padding: 0px; /* Adjust padding for mobile */
                max-width: 100%; /* Make the popup wider */
                width: 90%; /* Ensure it's wider on mobile */
                margin: 0 auto;
            }

            h2 {
                font-size: 20px; /* Smaller font size for better fitting */
            }

            p {
                font-size: 14px; /* Adjust paragraph font size */
                margin-bottom: 15px; /* Decrease spacing for compactness */
            }

            button {
                font-size: 14px; /* Adjust button font size */
                padding: 12px 24px; /* Make buttons a bit wider */
                width: 90%; /* Make buttons fill more of the available space */
                max-width: 320px; /* Increase button width for mobile */
                margin-bottom: 12px; /* Adjust space between buttons */
            }
        }

        @media screen and (max-width: 480px) {
        
        .first {
        padding:0px;
        }
        .second {
        padding:0px;
        }
            .none {
                padding: 0px; /* Reduce padding even more for small screens */
                max-width: 100%; /* Full width */
                width: 90%; /* Ensure it's fitting well on smaller screens */
            }
            .no{
                display:none;
            }
            h2 {
                font-size: 18px; /* Smaller font size */
            }

            p {
                font-size: 12px; /* Adjust paragraph font size */
            }

            button {
                font-size: 14px; /* Adjust button font size */
                padding: 12px 24px;
                width: 90%; /* Make buttons fill most of the screen */
                max-width: 280px; /* Adjust max-width */
                }
                }
            </style>
        `;
        document.getElementById('loadingSpinner').style.display = 'none';

                    } else {

                        gosession(sessionNumber);

document.getElementById('loadingSpinner').style.display = 'none';

                    }
                })
                .catch(error => {
                    document.getElementById('loadingSpinner').style.display = 'none';

                    console.error(`Error fetching session ${sessionNumber}:`, error);
                    alert("An error occurred while processing your request.");
                });
        }

        function closePopup() {
            document.querySelector(".overlay").style.display = "none";
            document.querySelector(".popup").style.display = "none";
        }

        // Example usage for multiple sessions
        for (let i = 1; i <= 25; i++) {
            const userPhone = localStorage.getItem("userPhone");
            if (userPhone) {
                const sessionUrl = googleScriptUrls[i];
                fetch(`${sessionUrl}?code=${userPhone}&session=${i}`)
                    .then(response => response.json())
                    .then(data => {
                        console.log(`Session ${i} preload data:`, data);
                        localStorage.setItem(`lecture_${i}`, data.error ? "Unsubscribed" : "Subscribed");
                    });
            }
        }


        //testing the function to buy
        function buysession(sessionNumber){
            location.href = `../buySession${sessionNumber}.html`;
        }
        function gosession(sessionNumber){
            location.href = `../videos/Session${sessionNumber}.html`;
        }
    </script>
</body>


</html>
