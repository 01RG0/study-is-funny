<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Navigation</title>
    <style>
        /* Style for the main iframe video */
        .video-container {
            max-width: 800px;
            width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Control button styling */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .controls button {
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #008080;
            color: #FFFFE0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .controls button:hover {
            background-color: #006666;
        }

        .controls button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <iframe id="videoFrame" src="https://iframe.mediadelivery.net/embed/201512/7a7a5245-3070-4ce8-a4b6-da399e818a6c?autoplay=true&loop=false&muted=false&preload=true&responsive=true" frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="controls">
        <button id="prevButton" onclick="prevVideo()" disabled>Previous Question</button>
        <button id="nextButton" onclick="nextVideo()">Next Question</button>
        <button onclick="toggleFullscreen()">Fullscreen</button>
    </div>
    <p id="accessMessage"></p> <!-- Display access messages here -->

    <script>
        // Array of video links
        const videoLinks = [
        /*1*/    "https://iframe.mediadelivery.net/embed/132580/60cb3870-16ce-4582-8442-d36230f9b97e?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*2*/    "https://iframe.mediadelivery.net/embed/132580/41e24c92-f6d7-4011-80bc-ba1b81e25f62?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*3*/    "https://iframe.mediadelivery.net/embed/132580/c31a2fc7-e9a7-44f9-b9b4-1d24fb233c50?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*4*/    "https://iframe.mediadelivery.net/embed/132580/14d68b35-20a9-45b7-8678-e35ac3bff61d?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*5*/    "https://iframe.mediadelivery.net/embed/132580/30938855-bfc1-4c06-b110-20713a71f414?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*6*/    "https://iframe.mediadelivery.net/embed/132580/518c7442-faa5-487d-a4f9-60c071bcb5ee?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*7*/    "https://iframe.mediadelivery.net/embed/132580/9bc185fe-f541-41b3-9c48-80b00d36905f?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*8*/    "https://iframe.mediadelivery.net/embed/132580/d7f24972-49f2-4bc7-9360-9690ce06e7bf?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*9*/    "https://iframe.mediadelivery.net/embed/132580/a7de7ccc-0ca6-414c-abf0-dc4a760c2643?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*10*/    "https://iframe.mediadelivery.net/embed/132580/f0247dc1-1f6d-40f0-8ec3-0de6a58eca00?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*11*/    "https://iframe.mediadelivery.net/embed/132580/1845764c-8bf6-4c0e-b248-d1d3b025478d?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*12*/    "https://iframe.mediadelivery.net/embed/132580/4bb8fe36-3fcb-45a4-8084-e675e8bd28ff?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*14*/    "https://iframe.mediadelivery.net/embed/132580/fceba964-8425-4938-b80d-c56dae263e43?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*14*/    "https://iframe.mediadelivery.net/embed/132580/e90db651-ab21-482e-abc9-0161e65d7d71?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*15*/    "https://iframe.mediadelivery.net/embed/132580/38199549-1197-466e-b8d0-9e139878f198?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*16*/    "https://iframe.mediadelivery.net/embed/132580/a34a5333-f3a1-4b5d-b63d-2332a8386355?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*17*/    "https://iframe.mediadelivery.net/embed/132580/5a088106-2bf9-4aef-800c-a18093037957?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*18*/    "https://iframe.mediadelivery.net/embed/132580/cee2b3e7-056f-469d-ba63-1fef380888e7?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        /*19*/    "https://iframe.mediadelivery.net/embed/132580/67eedfef-5c00-4d96-bfe5-fb79433d339e?autoplay=true&loop=false&muted=false&preload=true&responsive=true",
        ];

        let currentVideoIndex = 0;

        // Load a video by index
        function loadVideo(index) {
            const iframe = document.getElementById("videoFrame");
            iframe.src = videoLinks[index];
            updateButtons();
        }

        // Move to the next video
        function nextVideo() {
            if (currentVideoIndex < videoLinks.length - 1) {
                currentVideoIndex++;
                loadVideo(currentVideoIndex);
            }
        }

        // Move to the previous video
        function prevVideo() {
            if (currentVideoIndex > 0) {
                currentVideoIndex--;
                loadVideo(currentVideoIndex);
            }
        }

        // Update button states
        function updateButtons() {
            document.getElementById("prevButton").disabled = currentVideoIndex === 0;
            document.getElementById("nextButton").disabled = currentVideoIndex === videoLinks.length - 1;
        }

        // Toggle fullscreen
        function toggleFullscreen() {
            const videoContainer = document.querySelector('.video-container');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                videoContainer.requestFullscreen();
            }
        }





        const sheetUrl = 'https://script.google.com/macros/s/AKfycbxaa6JOuMngeLk6F4pG1qXn7AzRZd0_ls3jZJT33Pq2Y00FME6kuLk-nCgEhgIyXlsqjQ/exec';
    
        function getSession() {
            const phone = localStorage.getItem('userPhone');
            if (!phone) {
                location.href = "studyisfunny.com/login";
                return;
            } 
            fetch(`${sheetUrl}?code=${phone}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        location.href = "studyisfunny.com/login";
                    }
                })
                .catch(err => {
                    console.error('Fetch error:', err);
                });
        }
        
        window.onload = getSession;    

    </script>
</body>
</html>
